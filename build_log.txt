18:53:24.718 Running build in Washington, D.C., USA (East) â€“ iad1
18:53:24.719 Build machine configuration: 2 cores, 8 GB
18:53:24.848 Cloning github.com/caravane0420/com (Branch: main, Commit: 2d3b6a8)
18:53:25.057 Cloning completed: 209.000ms
18:53:27.149 Restored build cache from previous deployment (BkZkiacJKonJHAieWaivxXHdYr2U)
18:53:27.433 Running "vercel build"
18:53:27.846 Vercel CLI 50.1.6
18:53:28.174 Installing dependencies...
18:53:29.561 
18:53:29.562 > friend-community@0.1.0 postinstall
18:53:29.562 > prisma generate
18:53:29.562 
18:53:30.521 Prisma schema loaded from prisma/schema.prisma
18:53:30.833 
18:53:30.835 âœ” Generated Prisma Client (v6.19.2) to ./node_modules/@prisma/client in 154ms
18:53:30.835 
18:53:30.835 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
18:53:30.835 
18:53:30.835 Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints
18:53:30.835 
18:53:30.854 
18:53:30.855 up to date in 2s
18:53:30.855 
18:53:30.856 225 packages are looking for funding
18:53:30.856   run `npm fund` for details
18:53:30.890 Detected Next.js version: 16.1.1
18:53:30.895 Running "npm run build"
18:53:30.992 
18:53:30.992 > friend-community@0.1.0 build
18:53:30.993 > prisma generate && next build
18:53:30.993 
18:53:31.748 Prisma schema loaded from prisma/schema.prisma
18:53:31.997 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
18:53:31.998 â”‚  Update available 6.19.2 -> 7.2.0                       â”‚
18:53:31.998 â”‚                                                         â”‚
18:53:31.998 â”‚  This is a major update - please follow the guide at    â”‚
18:53:31.999 â”‚  https://pris.ly/d/major-version-upgrade                â”‚
18:53:31.999 â”‚                                                         â”‚
18:53:31.999 â”‚  Run the following to update                            â”‚
18:53:31.999 â”‚    npm i --save-dev prisma@latest                       â”‚
18:53:31.999 â”‚    npm i @prisma/client@latest                          â”‚
18:53:32.000 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
18:53:32.000 
18:53:32.000 âœ” Generated Prisma Client (v6.19.2) to ./node_modules/@prisma/client in 127ms
18:53:32.000 
18:53:32.000 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
18:53:32.001 
18:53:32.001 Tip: Need your database queries to be 1000x faster? Accelerate offers you that and more: https://pris.ly/tip-2-accelerate
18:53:32.001 
18:53:33.175 â–² Next.js 16.1.1 (Turbopack)
18:53:33.176 - Experiments (use with caution):
18:53:33.177   Â· serverActions
18:53:33.177 
18:53:33.184 âš  The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
18:53:33.211   Creating an optimized production build ...
18:53:47.521 âœ“ Compiled successfully in 13.8s
18:53:47.526   Running TypeScript ...
18:53:52.800 Failed to compile.
18:53:52.800 
18:53:52.802 ./app/api/upload/route.ts:11:13
18:53:52.802 Type error: Type '(pathname: string, clientPayload?: string) => Promise<{ allowedContentTypes: string[]; tokenPayload: string; }>' is not assignable to type '(pathname: string, clientPayload: string | null, multipart: boolean) => Promise<Pick<GenerateClientTokenOptions, "allowedContentTypes" | "maximumSizeInBytes" | "validUntil" | "addRandomSuffix" | "allowOverwrite" | "cacheControlMaxAge"> & { ...; }>'.
18:53:52.802   Types of parameters 'clientPayload' and 'clientPayload' are incompatible.
18:53:52.802     Type 'string | null' is not assignable to type 'string | undefined'.
18:53:52.803       Type 'null' is not assignable to type 'string | undefined'.
18:53:52.803 
18:53:52.803 [0m [90m  9 |[39m             body[33m,[39m
18:53:52.803  [90m 10 |[39m             request[33m,[39m
18:53:52.803 [31m[1m>[22m[39m[90m 11 |[39m             onBeforeGenerateToken[33m:[39m [36masync[39m (pathname[33m:[39m string[33m,[39m clientPayload[33m?[39m[33m:[39m string) [33m=>[39m {
18:53:52.803  [90m    |[39m             [31m[1m^[22m[39m
18:53:52.803  [90m 12 |[39m                 [90m// Allow any image upload for now (anonymous or logged in)[39m
18:53:52.803  [90m 13 |[39m                 [90m// You can add stricter auth checks here if needed[39m
18:53:52.803  [90m 14 |[39m                 [36mreturn[39m {[0m
18:53:52.838 Next.js build worker exited with code: 1 and signal: null
18:53:52.901 Error: Command "npm run build" exited with 1